<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>누비랩 서비스 신청</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-50 text-gray-800">
  <div class="max-w-2xl mx-auto my-10 p-6 bg-white shadow-lg rounded-xl">
    <h1 class="text-2xl font-bold mb-6">냠냠키즈 서비스 신청</h1>

    <!-- 1페이지: 안내 및 동의 -->
    <div class="space-y-4 mb-6">
      <p>안녕하세요,<br>
        <strong>[냠냠키즈]</strong> 서비스를 제공하는 누비랩입니다!<br>
        저희 서비스 이용을 신청해주셔서 진심으로 감사드립니다.</p>
      <p>접수된 내용으로 전자계약서 작성 및 설치가 시작되니 정확한 정보를 기입해주세요.</p>
      <p>
        냠냠키즈 서비스에 대해 잘 모르신다면, 꼭! 아래 링크를 클릭해서 서비스 소개 영상과 홈페이지를 살펴보신 후 신청을 진행해주세요.<br>
        <a href="https://www.yumyumkids.ai" class="text-blue-600 underline">https://www.yumyumkids.ai</a>
      </p>
      <p>모든 항목에 동의하지 않으실 경우, 서비스 설치 및 운영이 어려울 수 있습니다.</p>
    </div>

    <!-- 2페이지: 서비스 동의 -->
    <div class="mb-6">
      <label class="block font-semibold mb-1">[냠냠키즈] 서비스에 대해 인지하시고, 설치 및 운영에 동의하시나요?</label>
      <select class="w-full border rounded p-2" required>
        <option value="">선택해주세요</option>
        <option>동의합니다</option>
        <option>동의하지 않습니다</option>
      </select>
    </div>

    <!-- 3페이지: 기관 정보 -->
    <div class="space-y-4 mb-6">
      <div>
        <label class="block font-medium">기관명</label>
        <input type="text" class="w-full border rounded p-2" required>
      </div>
      <div>
        <label class="block font-medium">설립유형</label>
        <select class="w-full border rounded p-2" required>
          <option value="">선택해주세요</option>
          <option>국공립</option>
          <option>사회복지법인</option>
          <option>법인단체 등</option>
          <option>민간</option>
          <option>가정</option>
          <option>협동</option>
          <option>직장</option>
        </select>
      </div>
      <div>
        <label class="block font-medium">기관 대표 전화번호</label>
        <input type="tel" class="w-full border rounded p-2" required>
      </div>
      <div>
        <label class="block font-medium">기관 주소</label>
        <input type="text" class="w-full border rounded p-2" required>
      </div>
    </div>

    <!-- 4페이지: 대표자 정보 및 개인정보 동의 -->
    <div class="space-y-4 mb-6">
      <div>
        <label class="block font-medium">대표자 이름</label>
        <input type="text" class="w-full border rounded p-2" required>
      </div>
      <div>
        <label class="block font-medium">대표자 전화번호</label>
        <input type="tel" class="w-full border rounded p-2" required>
      </div>
      <div>
        <label class="block font-medium">대표자 이메일</label>
        <input type="email" class="w-full border rounded p-2" required>
      </div>
      <div>
        <label class="block font-medium">개인정보 수집 및 이용 동의</label>
        <select class="w-full border rounded p-2" required>
          <option value="">선택해주세요</option>
          <option>동의합니다</option>
          <option>동의하지 않습니다</option>
        </select>
      </div>
    </div>

    <!-- 5페이지: 설치 환경 정보 -->
    <div class="mb-6">
      <label class="block font-medium">원아들의 식사 장소는 어떻게 되나요?</label>
      <select class="w-full border rounded p-2" required>
        <option value="">선택해주세요</option>
        <option>반 별로 교실에서 식사</option>
        <option>단체로 별도 공간에서 모여서 식사 (예: 급식실)</option>
      </select>
    </div>

    <!-- 6페이지: 일정 및 리포트 동의 -->
    <div class="space-y-4">
      <div>
        <label class="block font-medium">온라인 교육 희망일 (자동 계산)</label>
        <select id="educationDate" class="w-full border rounded p-2" required></select>
      </div>
      <div>
        <label class="block font-medium">스캔 시작일 (교육일에 따라 자동 계산)</label>
        <select id="scanDate" class="w-full border rounded p-2" required></select>
      </div>
      <div>
        <label class="block font-medium">리포트 발송에 동의하시나요?</label>
        <select class="w-full border rounded p-2" required>
          <option value="">선택해주세요</option>
          <option>동의합니다</option>
          <option>동의하지 않습니다</option>
        </select>
      </div>
      <div>
        <label class="block font-medium">배식사진과 퇴식사진 노출에 동의하시나요?</label>
        <select class="w-full border rounded p-2" required>
          <option value="">선택해주세요</option>
          <option>동의합니다</option>
          <option>동의하지 않습니다</option>
        </select>
      </div>
    </div>
  </div>

  <script>
    const educationDateEl = document.getElementById('educationDate');
    const scanDateEl = document.getElementById('scanDate');
    const today = new Date();

    function getNextEducationDates(baseDate) {
      const dates = [];
      let date = new Date(baseDate);
      let count = 0;
      while (count < 3) {
        date.setDate(date.getDate() + 1);
        if (date.getDay() === 2 || date.getDay() === 4) {
          dates.push(new Date(date));
          count++;
        }
      }
      return dates;
    }

    function getScanDatesFromEducation(lastEduDate) {
      const result = [];
      const start = new Date(lastEduDate);
      start.setDate(start.getDate() + (start.getDay() === 2 ? 6 : 11)); // 다음 주 월요일 또는 다다음 주 월요일
      for (let i = 0; i < 5; i++) {
        const optionDate = new Date(start);
        optionDate.setDate(start.getDate() + i);
        result.push(optionDate);
      }
      return result;
    }

    function formatDate(date) {
      return date.toISOString().split('T')[0];
    }

    const eduDates = getNextEducationDates(today);
    eduDates.forEach(d => {
      const opt = document.createElement('option');
      opt.value = formatDate(d);
      opt.text = formatDate(d);
      educationDateEl.appendChild(opt);
    });

    const lastEduDate = eduDates[eduDates.length - 1];
    const scanDates = getScanDatesFromEducation(lastEduDate);
    scanDates.forEach(d => {
      const opt = document.createElement('option');
      opt.value = formatDate(d);
      opt.text = formatDate(d);
      scanDateEl.appendChild(opt);
    });
  </script>
</body>
</html>
